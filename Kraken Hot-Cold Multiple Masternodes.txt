MULTIPLE MASTERNODES SETUP FOR HOT-COLD WALLETS - WINDOWS COTROLLER WALLET AND VPS UBUNTU MASTERNODES (3 masternodes for example)

Step-by-step guide for starting multiple masternodes (3 masternodes in this example)

Requirements
    Kraken wallet running on your local computer with at least 2500 Kraken Coins for every masternode

After installation, you can shut down your local wallet (controller) anytime, and the remote wallet will continue working 24/7, and it will be sending your rewards to your local wallet.

STEP 1 : Preparing masternodes (You have to repeat for every VPS) 
We will be copy-pasting commands one by one in the VPS console:
(in Ubuntu console you paste using right click-enter. Ctrl-C and Ctrl-V doesn't work. Selection automatically copies to clipboard also).


#Starting and Updating Ubuntu:
(Copy paste these commands as root):

apt-get update

apt-get upgrade -y

#Firewall ( can do this step at anytime )

sudo apt-get install ufw
sudo ufw allow OpenSSH
sudo ufw allow 14117
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw enable

#Compiling the wallet

sudo apt-get install git
git clone https://github.com/krakencoins/Kraken.git

#Installing dependencies

sudo apt-get -y update && sudo apt-get -y install build-essential libssl-dev libdb++-dev libboost-all-dev libcrypto++-dev libqrencode-dev libminiupnpc-dev libgmp-dev libgmp3-dev autoconf autogen automake libtool

#Compiling wallet

cd ~/Kraken/src
make -f makefile.unix

(this step takes a while, make sure it does not give you an error message at the end)


* -Optional-
*
* Once completed, to see if the wallet is ready you can type:

* ls

* If you have the file called Krakend in the list, that is your VPS wallet.

* If you want to see the different functions of your wallet you can type:

* ./Krakend help 

* -This was optional, only to help in case of problems or if you are curious-


#Start your VPS masternode:

./Krakend

(It should say   - It is recommended you use the following random password:   etc... )

And exit normally, it wants you to set a user and password in the file ~/.Kraken/Kraken.conf
You can use the password it suggests, or use another one you choose.


#Editing Kraken.conf to set user and password (Note edit with nano or vi)

apt-get install nano git -y

nano ~/.Kraken/Kraken.conf

##navigate and edit the file to make it look like this:
##(Change username and password)

rpcuser=yourusername

rpcpassword=yourlongandverysecurepassword

rpcallowip=127.0.0.1

daemon=1
server=1
listen=1

*(Save And Exit)


#Start the server again:

./Krakend

#You should see server starting, and let it sync for a while.

#To check the status of your masternode, 

#Press enter to get command line active if it's not

./Krakend getinfo 

#Once the blocks number is the same that you can see in the help-debug window-information of your synced local wallet, or on the block explorer, it means your vps wallet is synced.

STEP 2 : Preparing controller wallet
1 - Open your main wallet where you have your coins
2 - Go to Receive tab
3 - Press button "New address" and enter "Masternode 1" in Label (do not check "Stealth address")
4 - Press button "New address" and enter "Masternode 2" in Label (do not check "Stealth address")
5 - Press button "New address" and enter "Masternode 3" in Label (do not check "Stealth address")
4 - Send to all this addresses exactly 2500 Kraken Coins to each address. This can be done by going to Send button and clicking on add recipient two times. And fill all 3 address on pay to and 2500 as amount.
5 - Wait for 1 confirmation of transaction and go to the Debug console
6 - Run command "masternode genkey" and write down generated key (this is your masternode private key)
7 - Run command "masternode outputs" and write down hexnumbers (this is your masternode tx) and digit after ":" (this is tx index)

You will get 3 output like
{ "60835a7d867d335434925c32f38902268e131e99a5821557d3e77f8ca3829fd8" : "0", "60835a7d867d335434925c32f38902268e131e99a5821557d3e77f8ca3829fd8" : "1", "60835a7d867d335434925c32f38902268e131e99a5821557d3e77f8ca3829fd8" : "2" }

8 - Go to Masternodes tab and switch to the "My Masternodes"
9 - Press button "Create"
10 - Enter "Alias" - "MN1" (do not use spaces and special charatcers)
11 - Enter "Address" - "YOUREXTERNALIP:PORT" (your external white ip and port for masternode)
12 - Enter "Privkey" - masternode private key you generated with "masternode genkey"
13 - Enter "TxHash" - masternode tx from "masternode outputs" command
14 - Enter "Output Index" - tx index from "masternode outputs" command
15 - Now you can press "Ok"
16 - Repeat process from step 6 for MN2 and MN3. With renaming MN1 to MN2 and MN3. When you get to step 7 "masternode outputs" in second time you will see 3 lines with txhash and index. You must choose the First line with txhash for MN1 second for MN2 third for MN3.
17 - Press "Update" and you will see all three masternodes in list with status "Not in the masternode list. "Steps 8-15 creates masternode.conf. You can skip this steps and create it by yourself. It have format:

ALIAS IP:PORT PRIVKEY TXHASH OUTPUTINDEX   (One line - one masternode config)

STEP 3 : Starting masternodes

1 - All VPS Masternodes have to be running.

2 - Go to controller wallet, check transactions that your coins in Masternode 1, 2 and 3 addresses have at least 15 confirmations.

3 - Go to Masternodes tab and switch to the "My Masternodes"

4 â€“ Press "Start All"

You have created 3 working masternodes. Don't be afraid to running PoS on controller wallet. It's do not damaged your masternode transactions because all masternode coins will be excluded from PoS.
